<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libgolle: Binary buffers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">libgolle
   &#160;<span id="projectnumber">0.0.0</span>
   </div>
   <div id="projectbrief">Phillipe Golle&#39;s protocol for Mental Poker</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__bin.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Binary buffers</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgolle__bin__t.html">golle_bin_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a binary buffer.  <a href="structgolle__bin__t.html#details">More...</a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0c8978cfb663eb51e5c6248619276fbb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bin.html#ga0c8978cfb663eb51e5c6248619276fbb">golle_bin_init</a> (<a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *buff, size_t size)</td></tr>
<tr class="memdesc:ga0c8978cfb663eb51e5c6248619276fbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the inner buffer of a non-dynamic buffer. A typical use case is declaring on the stack or as a non-pointer member of another structure.  <a href="#ga0c8978cfb663eb51e5c6248619276fbb"></a><br/></td></tr>
<tr class="memitem:gac51aa5df2bd0c0d51897dbb0b8fd66a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bin.html#gac51aa5df2bd0c0d51897dbb0b8fd66a2">golle_bin_release</a> (<a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *buff)</td></tr>
<tr class="memdesc:gac51aa5df2bd0c0d51897dbb0b8fd66a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the inner buffer without releasing the <a class="el" href="structgolle__bin__t.html" title="Represents a binary buffer.">golle_bin_t</a> structure itself. Useful for releasing resources allocated with <a class="el" href="group__bin.html#ga0c8978cfb663eb51e5c6248619276fbb" title="Initialise the inner buffer of a non-dynamic buffer. A typical use case is declaring on the stack or ...">golle_bin_init()</a>.  <a href="#gac51aa5df2bd0c0d51897dbb0b8fd66a2"></a><br/></td></tr>
<tr class="memitem:gab1d9a98c77819b73e86f1ee181e5f5f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bin.html#gab1d9a98c77819b73e86f1ee181e5f5f3">golle_bin_new</a> (size_t size)</td></tr>
<tr class="memdesc:gab1d9a98c77819b73e86f1ee181e5f5f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new binary buffer of a given size. The data block is zeroed out before returning.  <a href="#gab1d9a98c77819b73e86f1ee181e5f5f3"></a><br/></td></tr>
<tr class="memitem:ga17ac68b19be493c116f4a0847482a47e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bin.html#ga17ac68b19be493c116f4a0847482a47e">golle_bin_delete</a> (<a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *buff)</td></tr>
<tr class="memdesc:ga17ac68b19be493c116f4a0847482a47e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates resources held by a <a class="el" href="structgolle__bin__t.html" title="Represents a binary buffer.">golle_bin_t</a> structure.  <a href="#ga17ac68b19be493c116f4a0847482a47e"></a><br/></td></tr>
<tr class="memitem:ga67d1ae160da55c404fd295aae2fe87ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bin.html#ga67d1ae160da55c404fd295aae2fe87ff">golle_bin_copy</a> (<a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *buff)</td></tr>
<tr class="memdesc:ga67d1ae160da55c404fd295aae2fe87ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes a copy of <code>buff</code> via <a class="el" href="group__bin.html#gab1d9a98c77819b73e86f1ee181e5f5f3" title="Create a new binary buffer of a given size. The data block is zeroed out before returning.">golle_bin_new</a>.  <a href="#ga67d1ae160da55c404fd295aae2fe87ff"></a><br/></td></tr>
<tr class="memitem:gaf59cbcb6d9f792557efcbfb6fd5c8114"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bin.html#gaf59cbcb6d9f792557efcbfb6fd5c8114">golle_bin_resize</a> (<a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *buff, size_t size)</td></tr>
<tr class="memdesc:gaf59cbcb6d9f792557efcbfb6fd5c8114"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resize the buffer.  <a href="#gaf59cbcb6d9f792557efcbfb6fd5c8114"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Many parts of this library, and client applications, need to work with a block of data of arbitrary size. It is important to always know how large the block is and to always work with it in the context of its size. Here we present the very simple <a class="el" href="structgolle__bin__t.html" title="Represents a binary buffer.">golle_bin_t</a>, which marries the size of a data block to the block itself. By using the <a class="el" href="group__bin.html#gab1d9a98c77819b73e86f1ee181e5f5f3" title="Create a new binary buffer of a given size. The data block is zeroed out before returning.">golle_bin_new()</a> and <a class="el" href="group__bin.html#ga17ac68b19be493c116f4a0847482a47e" title="Deallocates resources held by a golle_bin_t structure.">golle_bin_delete()</a> functions, it's not so hard to screw up; as long as you always check the size of the buffer before using it. </p>
<h2>Function Documentation</h2>
<a class="anchor" id="ga67d1ae160da55c404fd295aae2fe87ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="structgolle__bin__t.html">golle_bin_t</a>* golle_bin_copy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *&#160;</td>
          <td class="paramname"><em>buff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes a copy of <code>buff</code> via <a class="el" href="group__bin.html#gab1d9a98c77819b73e86f1ee181e5f5f3" title="Create a new binary buffer of a given size. The data block is zeroed out before returning.">golle_bin_new</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>The buffer to copy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new buffer, or <code>NULL</code> if either buff was <code>NULL</code> or if <a class="el" href="group__bin.html#gab1d9a98c77819b73e86f1ee181e5f5f3" title="Create a new binary buffer of a given size. The data block is zeroed out before returning.">golle_bin_new</a> returned <code>NULL</code>. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>You should delete this copy with <a class="el" href="group__bin.html#ga17ac68b19be493c116f4a0847482a47e" title="Deallocates resources held by a golle_bin_t structure.">golle_bin_delete</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga17ac68b19be493c116f4a0847482a47e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> void golle_bin_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *&#160;</td>
          <td class="paramname"><em>buff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deallocates resources held by a <a class="el" href="structgolle__bin__t.html" title="Represents a binary buffer.">golle_bin_t</a> structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>The structure to free. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function will check the address of the <code>bin</code> member of <code>buff</code>. If it points to the address just passed the object, it will free the object. If it points elsewhere, it will <em>also</em> free the <code>bin</code> member separately. </dd></dl>

</div>
</div>
<a class="anchor" id="ga0c8978cfb663eb51e5c6248619276fbb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a> golle_bin_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the inner buffer of a non-dynamic buffer. A typical use case is declaring on the stack or as a non-pointer member of another structure. </p>
<p><a class="el" href="structgolle__bin__t.html" title="Represents a binary buffer.">golle_bin_t</a> buffer; golle_bin_init (&amp;buffer, size);</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>The buffer to initialise. It is assumed that the <code>bin</code> member of <code>buff</code> is invalid (i.e. this function won't free it). </td></tr>
    <tr><td class="paramname">size</td><td>The requested size to initialise the buffer to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GOLLE_OK if everything succeeded. GOLLE_EMEM if memory allocation failed. GOLLE_ERROR if <code>buffer</code> is NULL or <code>size</code> is 0. </dd></dl>

</div>
</div>
<a class="anchor" id="gab1d9a98c77819b73e86f1ee181e5f5f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="structgolle__bin__t.html">golle_bin_t</a>* golle_bin_new </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new binary buffer of a given size. The data block is zeroed out before returning. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The size of the buffer to allocate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The allocated buffer, or NULL if allocation failed. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function only performs one <code>malloc</code>. It allocates enough space for the structure <em>and</em> the <code>bin</code> data itself. The returned object's <code>bin</code> member will point to the address just after the object. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Do no independantly <code>free</code> the <code>bin</code> member of a <a class="el" href="structgolle__bin__t.html" title="Represents a binary buffer.">golle_bin_t</a> structure allocated with this function. Call <a class="el" href="group__bin.html#ga17ac68b19be493c116f4a0847482a47e" title="Deallocates resources held by a golle_bin_t structure.">golle_bin_delete</a> instead.</dd>
<dd>
It is not usually a good idea to set the members of a structure returned by this function. </dd></dl>

</div>
</div>
<a class="anchor" id="gac51aa5df2bd0c0d51897dbb0b8fd66a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> void golle_bin_release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *&#160;</td>
          <td class="paramname"><em>buff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases the inner buffer without releasing the <a class="el" href="structgolle__bin__t.html" title="Represents a binary buffer.">golle_bin_t</a> structure itself. Useful for releasing resources allocated with <a class="el" href="group__bin.html#ga0c8978cfb663eb51e5c6248619276fbb" title="Initialise the inner buffer of a non-dynamic buffer. A typical use case is declaring on the stack or ...">golle_bin_init()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>The buffer to release. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaf59cbcb6d9f792557efcbfb6fd5c8114"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a> golle_bin_resize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resize the buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>The buffer to resize. </td></tr>
    <tr><td class="paramname">size</td><td>The new size of the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abc2291f52f5966c55ff93414a091d661">GOLLE_OK</a> if successful. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abd824663c8b698a8579794715affa307">GOLLE_ERROR</a> if <code>buff</code> is <code>NULL</code> or size is 0. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748a376d7929ff0724f11bbda0669c21d65b">GOLLE_EMEM</a> if memory reallocation failed. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Apr 19 2014 00:06:23 for libgolle by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
