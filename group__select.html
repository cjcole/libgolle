<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LibGolle: Object Selection</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">LibGolle
   &#160;<span id="projectnumber">0.0.0</span>
   </div>
   <div id="projectbrief">Phillipe Golle&#39;s protocol for Mental Poker</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__select.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Object Selection</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgolle__select__t.html">golle_select_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An opaque structure that manages a peer's participation in the Golle protocol.  <a href="structgolle__select__t.html#details">More...</a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gac8c1d85c174d8ac993ac1d81d3d4abbd"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__select.html#gac8c1d85c174d8ac993ac1d81d3d4abbd">golle_select_callback_t</a> )(const <a class="el" href="structgolle__select__t.html">golle_select_t</a> *, const <a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *, const <a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *)</td></tr>
<tr class="memdesc:gac8c1d85c174d8ac993ac1d81d3d4abbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This kind of callback function is invoked three different ways when a call is made to <a class="el" href="group__select.html#gaead170b94d605f8d7c717243ca451e92" title="Begin a selection round by selecting a random g^i.">golle_select_object()</a>.  <a href="#gac8c1d85c174d8ac993ac1d81d3d4abbd"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gabfe31babb9d7c18f361a19b28e7d0f3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__select.html#gabfe31babb9d7c18f361a19b28e7d0f3b">golle_select_new</a> (<a class="el" href="structgolle__select__t.html">golle_select_t</a> **select, <a class="el" href="structgolle__peer__set__t.html">golle_peer_set_t</a> *peers, size_t n)</td></tr>
<tr class="memdesc:gabfe31babb9d7c18f361a19b28e7d0f3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="structgolle__select__t.html" title="An opaque structure that manages a peer&#39;s participation in the Golle protocol.">golle_select_t</a> struct based on a <a class="el" href="structgolle__peer__set__t.html" title="An abstraction over the golle_set_t type, made specifically for handling a set of golle_peer_t...">golle_peer_set_t</a> and a number of objects.  <a href="#gabfe31babb9d7c18f361a19b28e7d0f3b"></a><br/></td></tr>
<tr class="memitem:ga728a891f4c66606beca7120bdf2b4cbb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__select.html#ga728a891f4c66606beca7120bdf2b4cbb">golle_select_delete</a> (<a class="el" href="structgolle__select__t.html">golle_select_t</a> *select)</td></tr>
<tr class="memdesc:ga728a891f4c66606beca7120bdf2b4cbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the resources associated with the select structure.  <a href="#ga728a891f4c66606beca7120bdf2b4cbb"></a><br/></td></tr>
<tr class="memitem:gaead170b94d605f8d7c717243ca451e92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__select.html#gaead170b94d605f8d7c717243ca451e92">golle_select_object</a> (<a class="el" href="structgolle__select__t.html">golle_select_t</a> *select, <a class="el" href="group__select.html#gac8c1d85c174d8ac993ac1d81d3d4abbd">golle_select_callback_t</a> commit, <a class="el" href="group__select.html#gac8c1d85c174d8ac993ac1d81d3d4abbd">golle_select_callback_t</a> verify, <a class="el" href="group__select.html#gac8c1d85c174d8ac993ac1d81d3d4abbd">golle_select_callback_t</a> reveal)</td></tr>
<tr class="memdesc:gaead170b94d605f8d7c717243ca451e92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin a selection round by selecting a random g^i.  <a href="#gaead170b94d605f8d7c717243ca451e92"></a><br/></td></tr>
<tr class="memitem:gab41e53831588c277c4e17b31a4cd1dbe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__select.html#gab41e53831588c277c4e17b31a4cd1dbe">golle_select_peer_commit</a> (<a class="el" href="structgolle__select__t.html">golle_select_t</a> *select, <a class="el" href="group__peer.html#gab40ba7a268c97b56771307ba6e266ecd">golle_peer_t</a> peer, <a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *rsend, <a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *hash)</td></tr>
<tr class="memdesc:gab41e53831588c277c4e17b31a4cd1dbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store a commitment from a peer.  <a href="#gab41e53831588c277c4e17b31a4cd1dbe"></a><br/></td></tr>
<tr class="memitem:ga66b86b85e04dd6a6024ca663e825e62f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__select.html#ga66b86b85e04dd6a6024ca663e825e62f">golle_select_peer_verify</a> (<a class="el" href="structgolle__select__t.html">golle_select_t</a> *select, <a class="el" href="group__peer.html#gab40ba7a268c97b56771307ba6e266ecd">golle_peer_t</a> peer, <a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *rkeep, <a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *secret)</td></tr>
<tr class="memdesc:ga66b86b85e04dd6a6024ca663e825e62f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify a commitment from a peer. The <code>secret</code> is stored for later revelation.  <a href="#ga66b86b85e04dd6a6024ca663e825e62f"></a><br/></td></tr>
<tr class="memitem:ga47edbb485a3e3154c615290c4cf2aa38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__select.html#ga47edbb485a3e3154c615290c4cf2aa38">golle_select_reveal</a> (<a class="el" href="structgolle__select__t.html">golle_select_t</a> *select, <a class="el" href="group__peer.html#gab40ba7a268c97b56771307ba6e266ecd">golle_peer_t</a> peer, <a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *r, <a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *rand)</td></tr>
<tr class="memdesc:ga47edbb485a3e3154c615290c4cf2aa38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accept a reveal from a peer. The reveal goes toward the calculation of the final object.  <a href="#ga47edbb485a3e3154c615290c4cf2aa38"></a><br/></td></tr>
<tr class="memitem:ga77d6c24866d8e65ccfb5ceb99db3d835"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__select.html#ga77d6c24866d8e65ccfb5ceb99db3d835">golle_extract_value</a> (<a class="el" href="structgolle__select__t.html">golle_select_t</a> *select, <a class="el" href="structgolle__eg__t.html">golle_eg_t</a> *egc, size_t *selection)</td></tr>
<tr class="memdesc:ga77d6c24866d8e65ccfb5ceb99db3d835"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the selected object index based on reveals for this round. Computes <img class="formulaInl" alt="$c = \sum_{i}r_{i} \mod 52$" src="form_60.png"/>.  <a href="#ga77d6c24866d8e65ccfb5ceb99db3d835"></a><br/></td></tr>
<tr class="memitem:ga665bce4086f8d25d88ff42a858e6044e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__select.html#ga665bce4086f8d25d88ff42a858e6044e">golle_select_next_round</a> (<a class="el" href="structgolle__select__t.html">golle_select_t</a> *select)</td></tr>
<tr class="memdesc:ga665bce4086f8d25d88ff42a858e6044e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin the next round. Clears all commitments.  <a href="#ga665bce4086f8d25d88ff42a858e6044e"></a><br/></td></tr>
<tr class="memitem:gaa7beb070f774af57f63b6445016e63d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__select.html#gaa7beb070f774af57f63b6445016e63d5">golle_select_reset</a> (<a class="el" href="structgolle__select__t.html">golle_select_t</a> *select)</td></tr>
<tr class="memdesc:gaa7beb070f774af57f63b6445016e63d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the state, clearing all commitments and all records of selected objects.  <a href="#gaa7beb070f774af57f63b6445016e63d5"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Once a key has been correctly set up and peers have been verified (see <a class="el" href="group__peer.html">Peers</a>) the resulting <a class="el" href="structgolle__peer__set__t.html" title="An abstraction over the golle_set_t type, made specifically for handling a set of golle_peer_t...">golle_peer_set_t</a> can be used to create a <a class="el" href="structgolle__select__t.html" title="An opaque structure that manages a peer&#39;s participation in the Golle protocol.">golle_select_t</a> object. The <a class="el" href="structgolle__select__t.html" title="An opaque structure that manages a peer&#39;s participation in the Golle protocol.">golle_select_t</a> type is given an object count <img class="formulaInl" alt="$n$" src="form_38.png"/> from which random objects are selected according to the Golle Protocol. The value <img class="formulaInl" alt="$i$" src="form_39.png"/> of a selected object is usually an index into an array somewhere (or in the case of dealing cards, each number <img class="formulaInl" alt="$i \in \{0, ..., 51\}$" src="form_40.png"/> represents a unique card in a deck.) If the selected number is an array index, care must be taken to ensure that the index refers to the same value at each peer node.</p>
<p>If the number of players in the <a class="el" href="structgolle__peer__set__t.html" title="An abstraction over the golle_set_t type, made specifically for handling a set of golle_peer_t...">golle_peer_set_t</a> used to create the <a class="el" href="structgolle__select__t.html" title="An opaque structure that manages a peer&#39;s participation in the Golle protocol.">golle_select_t</a> must change, then the <a class="el" href="structgolle__select__t.html" title="An opaque structure that manages a peer&#39;s participation in the Golle protocol.">golle_select_t</a> should be discarded and a new one created after the <a class="el" href="structgolle__peer__set__t.html" title="An abstraction over the golle_set_t type, made specifically for handling a set of golle_peer_t...">golle_peer_set_t</a> is back into a ready key state (<a class="el" href="group__peer.html#gga65564903e00955b4782c2a62c448ed3ba59af45adb7bb50b47999469afd765383">GOLLE_KEY_READY</a>). </p>
<h2>Typedef Documentation</h2>
<a class="anchor" id="gac8c1d85c174d8ac993ac1d81d3d4abbd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">golle_select_callback_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This kind of callback function is invoked three different ways when a call is made to <a class="el" href="group__select.html#gaead170b94d605f8d7c717243ca451e92" title="Begin a selection round by selecting a random g^i.">golle_select_object()</a>. </p>
<p>In the first call, the buffers contain the commitment buffers from <a class="el" href="structgolle__commit__t.html" title="Holds the values for a bit commitment.">golle_commit_t</a> (see <a class="el" href="group__commit.html">Bit Commitment</a>). They are, respectively, the <code>rsend</code> field followed by the <code>hash</code> field. The receiving peer will store them via <a class="el" href="group__select.html#gab41e53831588c277c4e17b31a4cd1dbe" title="Store a commitment from a peer.">golle_select_peer_commit()</a>.</p>
<p>In the second call, the buffers contain the verification buffers (including the actual selection value). They are, respectively, the <code>rkeep</code> field followed by the <code>secret</code> field. The receiving peer will store them via via <a class="el" href="group__select.html#ga66b86b85e04dd6a6024ca663e825e62f" title="Verify a commitment from a peer. The secret is stored for later revelation.">golle_select_peer_verify()</a>.</p>
<p>In the third call, the buffers contain the selected object index and a random value. The receiving peer should store them via golle_select_accumulate().</p>
<p>In the first two instances the two <a class="el" href="structgolle__bin__t.html" title="Represents a binary buffer.">golle_bin_t</a> buffers should be sent to each peer.</p>
<p>In the third instance, the two buffers should be sent to any peer to whom the selection should be revealed. The receiving peer(s) will pass the received buffers to <a class="el" href="group__select.html#ga47edbb485a3e3154c615290c4cf2aa38" title="Accept a reveal from a peer. The reveal goes toward the calculation of the final object.">golle_select_reveal()</a>. The first buffer will be the the <code>ri</code> parameter, the second buffer will be the <code>rand</code> parameter.</p>
<p>It is up to the sending protocol to be able to tell the difference between the two buffers (it's really important). The best way is to send them separately, with a distinct order.</p>
<p>If any error occurs, return it and force the selection to abort. </p>

</div>
</div>
<h2>Function Documentation</h2>
<a class="anchor" id="ga77d6c24866d8e65ccfb5ceb99db3d835"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a> golle_extract_value </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgolle__select__t.html">golle_select_t</a> *&#160;</td>
          <td class="paramname"><em>select</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgolle__eg__t.html">golle_eg_t</a> *&#160;</td>
          <td class="paramname"><em>egc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>selection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the selected object index based on reveals for this round. Computes <img class="formulaInl" alt="$c = \sum_{i}r_{i} \mod 52$" src="form_60.png"/>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">select</td><td>The select structure. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">egc</td><td>Receives the ElGamal encryption of <img class="formulaInl" alt="$g^{c}$" src="form_61.png"/>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">selection</td><td>Upon success, will be the selected object index. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abd824663c8b698a8579794715affa307">GOLLE_ERROR</a> if any parameter is <code>NULL</code>. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748ac2448e0ace1eb8ae7f2e3386defe47c9">GOLLE_EEMPTY</a> if <img class="formulaInl" alt="$\sum_{i}r_{i}$" src="form_62.png"/> hasn't yet been calculated. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748a376d7929ff0724f11bbda0669c21d65b">GOLLE_EMEM</a> for memory errors. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abc2291f52f5966c55ff93414a091d661">GOLLE_OK</a> for success. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>If the function returns <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748ac2448e0ace1eb8ae7f2e3386defe47c9">GOLLE_EEMPTY</a>, not all reveals have been received from every peer for this round. </dd>
<dd>
The value of <code>egc</code>, upon success, should be forwarded to the <code>DISPEP</code> protocol for verification. </dd></dl>

</div>
</div>
<a class="anchor" id="ga728a891f4c66606beca7120bdf2b4cbb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> void golle_select_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgolle__select__t.html">golle_select_t</a> *&#160;</td>
          <td class="paramname"><em>select</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free the resources associated with the select structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">select</td><td>The select structure to free. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The key derived from the <a class="el" href="structgolle__peer__set__t.html" title="An abstraction over the golle_set_t type, made specifically for handling a set of golle_peer_t...">golle_peer_set_t</a> passed to <a class="el" href="group__select.html#gabfe31babb9d7c18f361a19b28e7d0f3b" title="Construct a new golle_select_t struct based on a golle_peer_set_t and a number of objects...">golle_select_new()</a> will not be freed. You must do this yourself. As such, the key must outlive the <a class="el" href="structgolle__select__t.html" title="An opaque structure that manages a peer&#39;s participation in the Golle protocol.">golle_select_t</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="gabfe31babb9d7c18f361a19b28e7d0f3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a> golle_select_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgolle__select__t.html">golle_select_t</a> **&#160;</td>
          <td class="paramname"><em>select</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgolle__peer__set__t.html">golle_peer_set_t</a> *&#160;</td>
          <td class="paramname"><em>peers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="structgolle__select__t.html" title="An opaque structure that manages a peer&#39;s participation in the Golle protocol.">golle_select_t</a> struct based on a <a class="el" href="structgolle__peer__set__t.html" title="An abstraction over the golle_set_t type, made specifically for handling a set of golle_peer_t...">golle_peer_set_t</a> and a number of objects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">select</td><td>Will receive the pointer to the new struct </td></tr>
    <tr><td class="paramname">peers</td><td>The <a class="el" href="structgolle__peer__set__t.html" title="An abstraction over the golle_set_t type, made specifically for handling a set of golle_peer_t...">golle_peer_set_t</a> that has a ready key. </td></tr>
    <tr><td class="paramname">n</td><td>The number of objects in the selection set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abc2291f52f5966c55ff93414a091d661">GOLLE_OK</a> if everything went OK. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abd824663c8b698a8579794715affa307">GOLLE_ERROR</a> if any parameter is NULL. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748a1a6517e887cd5caa87f045e29c01f48a">GOLLE_EINVALID</a> if the calling golle_peers_get_key (set) returns <code>NULL</code>. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748ac2448e0ace1eb8ae7f2e3386defe47c9">GOLLE_EEMPTY</a> if <code>n</code> is zero or if there are no peers in the set. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748a376d7929ff0724f11bbda0669c21d65b">GOLLE_EMEM</a> if memory couldn't be allocated. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Internally, the value <code>0xffffffff</code> is used to denote an invalid value. Therefore <code>0xffffffff</code> should not be used as a value for <code>n</code>. This shouldn't be a problem, though, because if you need that many objects then maybe you should rethink your protocol. </dd></dl>

</div>
</div>
<a class="anchor" id="ga665bce4086f8d25d88ff42a858e6044e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a> golle_select_next_round </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgolle__select__t.html">golle_select_t</a> *&#160;</td>
          <td class="paramname"><em>select</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begin the next round. Clears all commitments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">select</td><td>The structure to begin the next round for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abd824663c8b698a8579794715affa307">GOLLE_ERROR</a> if <code>select</code> is <code>NULL</code>. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abc2291f52f5966c55ff93414a091d661">GOLLE_OK</a> if successful. </dd></dl>

</div>
</div>
<a class="anchor" id="gaead170b94d605f8d7c717243ca451e92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a> golle_select_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgolle__select__t.html">golle_select_t</a> *&#160;</td>
          <td class="paramname"><em>select</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__select.html#gac8c1d85c174d8ac993ac1d81d3d4abbd">golle_select_callback_t</a>&#160;</td>
          <td class="paramname"><em>commit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__select.html#gac8c1d85c174d8ac993ac1d81d3d4abbd">golle_select_callback_t</a>&#160;</td>
          <td class="paramname"><em>verify</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__select.html#gac8c1d85c174d8ac993ac1d81d3d4abbd">golle_select_callback_t</a>&#160;</td>
          <td class="paramname"><em>reveal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begin a selection round by selecting a random g^i. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">select</td><td>The collection to select from. </td></tr>
    <tr><td class="paramname">commit</td><td>The commitment callback. </td></tr>
    <tr><td class="paramname">verify</td><td>The verification callback. </td></tr>
    <tr><td class="paramname">reveal</td><td>The final callback which reveals the selection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abd824663c8b698a8579794715affa307">GOLLE_ERROR</a> if any parameter is <code>NULL</code>. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748a376d7929ff0724f11bbda0669c21d65b">GOLLE_EMEM</a> if memory allocation fails. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abcc532a9199501961553efd02a4f5e07">GOLLE_ECRYPTO</a> if an error happens in the crypto library. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748a6b86eecc932c1f6198e27646eccdc44e">GOLLE_EABORT</a> if any callback fails. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abc2291f52f5966c55ff93414a091d661">GOLLE_OK</a> if successful. </dd></dl>

</div>
</div>
<a class="anchor" id="gab41e53831588c277c4e17b31a4cd1dbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a> golle_select_peer_commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgolle__select__t.html">golle_select_t</a> *&#160;</td>
          <td class="paramname"><em>select</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__peer.html#gab40ba7a268c97b56771307ba6e266ecd">golle_peer_t</a>&#160;</td>
          <td class="paramname"><em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *&#160;</td>
          <td class="paramname"><em>rsend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *&#160;</td>
          <td class="paramname"><em>hash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store a commitment from a peer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">select</td><td>The select structure to store the commitment in. </td></tr>
    <tr><td class="paramname">peer</td><td>The peer to store the commitment for. </td></tr>
    <tr><td class="paramname">rsend</td><td>The rsend of the commitment to store. </td></tr>
    <tr><td class="paramname">hash</td><td>The hash of the commitment to store. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abd824663c8b698a8579794715affa307">GOLLE_ERROR</a> if any parameter is <code>NULL</code>. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748aef7fb63f1eceb72704f1bf9080ea7f37">GOLLE_ENOTFOUND</a> if the peer doesn't exist in the set that was used to create the select struct. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748a37b2abef86119e7735bade24971b0862">GOLLE_EEXISTS</a> if a commitment was already stored for the given peer. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748a376d7929ff0724f11bbda0669c21d65b">GOLLE_EMEM</a> for memory errors. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abc2291f52f5966c55ff93414a091d661">GOLLE_OK</a> for success. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>These values should have been received from a peer via a call to <a class="el" href="group__select.html#gaead170b94d605f8d7c717243ca451e92" title="Begin a selection round by selecting a random g^i.">golle_select_object()</a> at the remote end. </dd></dl>

</div>
</div>
<a class="anchor" id="ga66b86b85e04dd6a6024ca663e825e62f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a> golle_select_peer_verify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgolle__select__t.html">golle_select_t</a> *&#160;</td>
          <td class="paramname"><em>select</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__peer.html#gab40ba7a268c97b56771307ba6e266ecd">golle_peer_t</a>&#160;</td>
          <td class="paramname"><em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *&#160;</td>
          <td class="paramname"><em>rkeep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *&#160;</td>
          <td class="paramname"><em>secret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verify a commitment from a peer. The <code>secret</code> is stored for later revelation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">select</td><td>The select structure that stored the commitment. </td></tr>
    <tr><td class="paramname">peer</td><td>The peer to verify for. </td></tr>
    <tr><td class="paramname">rkeep</td><td>The rkeep of the commitment. </td></tr>
    <tr><td class="paramname">secret</td><td>The secret of the commitment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abd824663c8b698a8579794715affa307">GOLLE_ERROR</a> if any param is <code>NULL</code>. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748aef7fb63f1eceb72704f1bf9080ea7f37">GOLLE_ENOTFOUND</a> if the peer hadn't previously stored a commitment. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748a37b2abef86119e7735bade24971b0862">GOLLE_EEXISTS</a> if the commitment had already been verified. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748a376d7929ff0724f11bbda0669c21d65b">GOLLE_EMEM</a> for memory errors. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748afad5629e3d61e52043a4df0aa0e13ff4">GOLLE_ENOCOMMIT</a> if commitment verification failed! <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abc2291f52f5966c55ff93414a091d661">GOLLE_OK</a> for success. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>These values should have been received from a peer via a call to <a class="el" href="group__select.html#gaead170b94d605f8d7c717243ca451e92" title="Begin a selection round by selecting a random g^i.">golle_select_object()</a> at the remote end. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa7beb070f774af57f63b6445016e63d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a> golle_select_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgolle__select__t.html">golle_select_t</a> *&#160;</td>
          <td class="paramname"><em>select</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the state, clearing all commitments and all records of selected objects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">select</td><td>The structure to reset. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abd824663c8b698a8579794715affa307">GOLLE_ERROR</a> if <code>select</code> is <code>NULL</code>. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abc2291f52f5966c55ff93414a091d661">GOLLE_OK</a> if successful. </dd></dl>

</div>
</div>
<a class="anchor" id="ga47edbb485a3e3154c615290c4cf2aa38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="platform_8h.html#a003d459507dc9739a74e5d10325c100b">GOLLE_EXTERN</a> <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748">golle_error</a> golle_select_reveal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgolle__select__t.html">golle_select_t</a> *&#160;</td>
          <td class="paramname"><em>select</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__peer.html#gab40ba7a268c97b56771307ba6e266ecd">golle_peer_t</a>&#160;</td>
          <td class="paramname"><em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgolle__bin__t.html">golle_bin_t</a> *&#160;</td>
          <td class="paramname"><em>rand</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accept a reveal from a peer. The reveal goes toward the calculation of the final object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">select</td><td>The select structure. </td></tr>
    <tr><td class="paramname">peer</td><td>The peer who is revealing their r and rand. </td></tr>
    <tr><td class="paramname">r</td><td>The r value selected by the peer in their own call to <a class="el" href="group__select.html#gaead170b94d605f8d7c717243ca451e92" title="Begin a selection round by selecting a random g^i.">golle_select_object()</a>. </td></tr>
    <tr><td class="paramname">rand</td><td>The rand value generated by the peer in their own call to <a class="el" href="group__select.html#gaead170b94d605f8d7c717243ca451e92" title="Begin a selection round by selecting a random g^i.">golle_select_object()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abd824663c8b698a8579794715affa307">GOLLE_ERROR</a> if any parameter is <code>NULL</code>. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748aef7fb63f1eceb72704f1bf9080ea7f37">GOLLE_ENOTFOUND</a> if the peer is not valid or has not verified its commitment yet. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748a37b2abef86119e7735bade24971b0862">GOLLE_EEXISTS</a> if values for the peer have already been received. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748a5c181218a4fb29ec6c0ec4141fd4d8a6">GOLLE_EOUTOFRANGE</a> if the r value is not in the range [0, n). <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748a6b86eecc932c1f6198e27646eccdc44e">GOLLE_EABORT</a> if the encryption value does not match the one set by the peer previously. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748a376d7929ff0724f11bbda0669c21d65b">GOLLE_EMEM</a> for memory errors. <a class="el" href="errors_8h.html#ad89bfc18c1698005d61cc709e5626748abc2291f52f5966c55ff93414a091d661">GOLLE_OK</a> for success. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat May 3 2014 19:26:23 for LibGolle by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
